<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <NoWarn>$(NoWarn);1591</NoWarn>
    <Authors>Max Kagamine</Authors>
    <Copyright>Copyright © 2018 Max Kagamine</Copyright>
    <Description>A set of extension methods for mocking HttpClient and IHttpClientFactory with Moq.</Description>
    <PackageLicenseUrl>https://github.com/maxkagamine/Moq.HttpClient/blob/master/LICENSE.txt</PackageLicenseUrl>
    <PackageProjectUrl>https://github.com/maxkagamine/Moq.HttpClient</PackageProjectUrl>
    <PackageTags>moq http httpclient mock mocking test testing</PackageTags>
    <RepositoryType>git</RepositoryType>
    <RepositoryUrl>https://github.com/maxkagamine/Moq.HttpClient</RepositoryUrl>
    <Version>1.0.0</Version>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.Extensions.Http" Version="2.1.1" />
    <PackageReference Include="Moq" Version="[4.8.0,5)" />
    <PackageReference Include="Scripty.MsBuild" Version="0.7.4" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="RequestExtensions.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>RequestExtensions.csx</DependentUpon>
    </Compile>
  </ItemGroup>

  <!--
    The generated file is added above in order to set DependentUpon so it appears nested under the csx file
    in the Solution Explorer, but since Scripty will automatically add it to the Compile list itself, we need
    to remove it beforehand during build to avoid a warning saying that the file was added multiple times.
  -->
  <Target Name="RemoveGeneratedFileBeforeScripty" BeforeTargets="EvaluateScriptyFiles">
    <ItemGroup>
      <Compile Remove="RequestExtensions.cs" />
    </ItemGroup>
  </Target>

</Project>
